!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((i=i||self).nvpack=i.nvpack||{},i.nvpack.banner=t())}(this,function(){"use strict";class i{constructor(){this.document=window.document,this.browserStatus={isSafari:0,isChrome:0,isFirefox:0,isIE:0,isSafariPush:0,isChromePush:0,isFirefoxPush:0,isEdgePush:0},this.isIncognito=0}getMobileStatus(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?1:0}getBrowser(){var i,t=window.navigator.userAgent;if(document.documentMode||/Edge/.test(t)||/EdgA/.test(t)||/Edg/.test(t))this.browserStatus.isIE=1,i=/Edge/.test(t)||/EdgA/.test(t)?t.substring(t.indexOf("Edg")+5).substring(0,2):t.substring(t.indexOf("Edg")+4).substring(0,2),this.browserStatus.isEdgePush=i>=17?1:0;else if(/chrome/i.test(t))this.browserStatus.isChrome=1,i=/Android|webOS/i.test(navigator.userAgent)?t.split("/")[t.split("/").length-2]:t.split(" ")[t.split(" ").length-2].substr(7),this.browserStatus.isChromePush=i.substring(0,2)>=42?1:0;else if(t.indexOf("Safari")>0&&-1==t.indexOf("Chrome"))this.browserStatus.isSafari=1,i=t.substring(0,t.indexOf("Safari")).substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1),this.browserStatus.isSafariPush=parseInt(i,10)>=7?1:0;else if(/firefox/i.test(t)){this.browserStatus.isFirefox=1;var o=t.indexOf("Firefox"),n=t.substring(o+8),e=parseInt(""+n,10);e=isNaN(e)?parseInt(navigator.appVersion,10):e,this.browserStatus.isFirefoxPush=e>=44&&!/Android|webOS/i.test(navigator.userAgent)||e>=48&&/Android|webOS/i.test(navigator.userAgent)?1:0}return this.browserStatus}checkIncognito(){return new Promise((i,t)=>{this.isIncognito=0;var o=this,n=window.navigator.userAgent;if(document.documentMode||/Edge/.test(n))window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?i(!1):(o.isIncognito=1,i(!0));else if(/chrome/i.test(n)){var e=window.RequestFileSystem||window.webkitRequestFileSystem;e?e(window.TEMPORARY,100,()=>i(!1),()=>{o.isIncognito=1,i(!0)}):(o.isIncognito=1,i(!0))}else if(/firefox/i.test(n)){if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var r,s;try{(r=window.indexedDB.open("test")).onerror=function(){return!0}}catch(t){s=!0,o.isIncognito=1,i(!0)}void 0===s&&function(i,t){var o=0,n=!1,e=window.setInterval(function(){i()&&(window.clearInterval(e),t(n)),o++>50&&(window.clearInterval(e),t(n=!0))},10)}(function(){return"done"===r.readyState},function(t){t||(!0===(s=!r.result)?(o.isIncognito=1,i(!0)):i(!1))})}}else if(/Safari/.test(n)){var a;try{window.openDatabase(null,null,null,null)}catch(t){"QuotaExceededError"===t.name?o.isIncognito=0:o.isIncognito=1,a=!0,i(!0)}void 0===a&&(a=!1,o.isIncognito=0,i(!1))}setTimeout(function(){i(!1)},1e3)})}getQueryValue(i){for(var t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]==i)return n[1]}}}class t{constructor(){this.document=window.document}set(i,t,o,n){var e=new Date((new Date).setHours(23,59,59,0));o=o||0==o?"expires="+o:"expires="+e,n=n?"domain=."+n:"",document.cookie=i+"="+t+"; "+o+"; "+n+"; path=/"}get(i){for(var t=i+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){var e=o[n].trim();if(0==e.indexOf(t))return e.substring(t.length,e.length)}return null}remove(i){document.cookie=i+"=; Max-Age=-99999999;"}lsSupport(){return!!window.localStorage}setLS(i,t){return this.lsSupport()&&localStorage.setItem(i,t)}getLS(i){return this.lsSupport()?localStorage.getItem(i):null}duration(i){var t=1,o="Fri, 31 Dec 1999 23:59:59 GMT";if(i)if(501==i)o="Fri, 31 Dec 1999 23:59:59 GMT";else if(0==i)o=0;else{500==i?t=365:i>0&&i<=90&&(t=i);var n=new Date;1!=t&&(t-=1,n.setTime(n.getTime()+24*t*60*60*1e3)),n.setHours(23,59,59,0),o=n}return o}}class o{constructor(i){this.context=i}closeButton(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o={domain:location.host.split(".").splice(1).join("."),cookies:{}},n=this.context.scope.cookieController.get("_nv_banner_x_"+i.notificationID),e=this.context.scope.cookieController.get("_nv_banner_x");if(null===n&&t&&(null===e||!e.split(",").includes(i.notificationID))&&i.repeat_close&&t&&""!==i.repeat_close){if(0==i.repeat_close){var r="_nv_banner_x_"+i.notificationID,s=i.notificationID;e&&(s=e+","+s),o.cookies[r.substring(0,12)]=[s,259200]}else 501!=i.repeat_close&&(o.cookies["_nv_banner_x_"+i.notificationID]=[1,1440*i.repeat_close]);this.context.scope.session(o)}}}class n{constructor(i){this.scope=i,this.nvHelper=new o(this)}initialize(i){var t,o,n,e,r,s=this;if(1==i.minimise){var a=this.scope.cookieController.get("shw_min_"+i.notificationID);a&&1==a&&s.minimise(i)}return(t=document.getElementById("notify-visitors-notification-close-button_"+i.notificationID))&&s.scope.bindEvent.bind(t,"click",function(){return s.close(i)},"banner"),(o=document.getElementById("notify-visitors-notification-top-minimise-button_"+i.notificationID))&&s.scope.bindEvent.bind(o,"click",function(){return s.minimise(i,1)},"banner"),(n=document.getElementById("notify-visitors-notification-top-maximise-button_"+i.notificationID))&&s.scope.bindEvent.bind(n,"click",function(){return s.minimise(i)},"banner"),(e=document.getElementById("notify-visitors-notification-bottom-minimise-button_"+i.notificationID))&&s.scope.bindEvent.bind(e,"click",function(){return s.minimise(i,1)},"banner"),(r=document.getElementById("notify-visitors-notification-bottom-maximise-button_"+i.notificationID))&&s.scope.bindEvent.bind(r,"click",function(){return s.minimise(i)},"banner"),this}minimise(i,t){null!=t&&this.scope.cookieController.set("shw_min_"+i.notificationID,1),this.scope.visibility("notify-visitors-notification-bar-iframe_"+i.notificationID),this.scope.visibility("notify-visitors-notification-bar_"+i.notificationID,i.template,"",i.height),this.scope.visibility("notify-visitors-notification-top-maximise-button_"+i.notificationID),this.scope.visibility("notify-visitors-notification-bottom-maximise-button_"+i.notificationID),this.scope.visibility("notify-visitors-notification_"+i.notificationID)}close(i){this.nvHelper.closeButton(i);var t=document.getElementById("notify-visitors-notification_"+i.notificationID);t.parentNode.removeChild(t)}}class e{constructor(i){this.scope=i,this.nvHelper=new o(this)}initialize(i){var t,o,n,e,r,s=this;if(1==i.minimise){var a=this.scope.cookieController.get("shw_min_"+i.notificationID);a&&1==a&&s.minimise(i)}return t=document.getElementById("notify-visitors-multi-bar-notification-close-button_"+i.notificationID),s.scope.bindEvent.bind(t,"click",function(){return s.close(i)},"banner"),(o=document.getElementById("notify-visitors-multi-bar-top-minimise-button_"+i.notificationID))&&s.scope.bindEvent.bind(o,"click",function(){return s.minimise(i,1)},"banner"),(n=document.getElementById("notify-visitors-multi-bar-top-maximise-button_"+i.notificationID))&&s.scope.bindEvent.bind(n,"click",function(){return s.minimise(i)},"banner"),(e=document.getElementById("notify-visitors-multi-bar-bottom-minimise-button_"+i.notificationID))&&s.scope.bindEvent.bind(e,"click",function(){return s.minimise(i,1)},"banner"),(r=document.getElementById("notify-visitors-multi-bar-bottom-maximise-button_"+i.notificationID))&&s.scope.bindEvent.bind(r,"click",function(){return s.minimise(i)},"banner"),this}minimise(i,t){null!=t&&this.scope.cookieController.set("shw_min_"+i.notificationID,1),this.scope.visibility("notify-visitors-multi-bar-iframe_"+i.notificationID),this.scope.visibility("notify-visitors-multi-bar_"+i.notificationID,i.template,i.pos),this.scope.visibility("notify-visitors-multi-bar-top-maximise-button_"+i.notificationID),this.scope.visibility("notify-visitors-multi-bar-bottom-maximise-button_"+i.notificationID),this.scope.visibility("notify-visitors-multi-bar-notification_"+i.notificationID)}close(i){this.nvHelper.closeButton(i);var t=document.getElementById("notify-visitors-multi-bar-notification_"+i.notificationID);t.parentNode.removeChild(t)}}class r{constructor(i){this.scope=i,this.nvHelper=new o(this)}initialize(i){var t,o=this;return t=document.getElementById("notify-visitors-notification-mobile-bar-close-button_"+i.notificationID),o.scope.bindEvent.bind(t,"click",function(){return o.close(i)},"banner"),this}close(i){this.nvHelper.closeButton(i);var t=document.getElementById("notify-visitors-mobile-bar-notification_"+i.notificationID);t.parentNode.removeChild(t)}}class s{constructor(i){this.scope=i,this.nvHelper=new o(this)}initialize(i){var t,o,n,e=this;if(1==i.minimise){var r=this.scope.cookieController.get("shw_min_"+i.notificationID);r&&1==r&&e.minimise(i)}return t=document.getElementById("nv_js-box-close-button_"+i.notificationID),e.scope.bindEvent.bind(t,"click",function(){return e.close(i)},"banner"),(o=document.getElementById("nv_js-box-minimise-button_"+i.notificationID))&&e.scope.bindEvent.bind(o,"click",function(){return e.minimise(i,1)},"banner"),(n=document.getElementById("nv_js-box-maximise-button_"+i.notificationID))&&e.scope.bindEvent.bind(n,"click",function(){return e.minimise(i)},"banner"),this}minimise(i,t){null!=t&&this.scope.cookieController.set("shw_min_"+i.notificationID,1),this.scope.visibility("nv_box_content-iframe_"+i.notificationID),this.scope.visibility("nv_js-box_"+i.notificationID,i.template),this.scope.visibility("nv_js-box-maximise-button_"+i.notificationID),this.scope.visibility("nv_js-box-content_"+i.notificationID)}close(i){if(i.template&&55!=i.template&&15!=i.template){this.nvHelper.closeButton(i);var t=document.getElementById("notify-visitors-box-notification_"+i.notificationID);t&&t.parentNode.removeChild(t)}}}var a=i=>{var t=document.createElement("style");t.type="text/css",t.setAttribute("class","notify-visitors-element"),t.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(t)},d=i=>{"complete"===document.readyState?i.nvj(document).scroll(function(){if("true"==i.nvj("._hideOnScroll").attr("isScrollEnd"))return i.nvj("._hideOnScroll").attr("isScrollEnd","false"),!1;!0===i.isScrollTrue?i.isScrollTrue=!1:(i.nvj("._hideOnScroll").fadeOut(),clearTimeout(i.nvj.data(this,"scrollCheck")),i.nvj.data(this,"scrollCheck",setTimeout(function(){i.nvj("._hideOnScroll").attr("isScrollEnd","true"),i.nvj("._hideOnScroll").fadeIn(),i.isScrollTrue=!0},1e3)))}):window.onload=d(i)},c=(i,t,o)=>'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+i+'px" height="'+t+'px" viewBox="0 0 348.333 348.334" style="enable-background:new 0 0 348.333 348.334;margin-top:5px;margin-bottom:5px;" xml:space="preserve"><g><path fill="'+o+'" d="M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85 c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563 c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85 l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554 L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z"/></g></svg>',l=(i,t,o)=>'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+i+'px" height="'+t+'px" viewBox="0 0 466.667 466.667" style="enable-background:new 0 0 466.667 466.667;margin-top:5px;" xml:space="preserve"><g><path fill="'+o+'" d="M423.571,176.43L256.904,9.764c-13.017-13.018-34.122-13.018-47.14,0L43.098,176.43c-13.018,13.018-13.018,34.123,0,47.141 c13.018,13.018,34.123,13.018,47.141,0l109.762-109.764v319.527c0,18.408,14.924,33.333,33.333,33.333 c18.409,0,33.333-14.925,33.333-33.333V113.807l109.764,109.764c6.509,6.508,15.039,9.762,23.57,9.762 c8.53,0,17.062-3.254,23.569-9.764C436.588,210.552,436.588,189.448,423.571,176.43z"/></g></svg>',u=(i,t,o)=>'<svg version="1.0" x="0px" y="0px" width="'+i+'px" height="'+t+'px" viewBox="0 0 48 48" style="null" class="icon icons8-Collapse-Arrow"><polygon fill="'+o+'" points="5,30.9 8.1,34 24,18.1 39.9,34 43,30.9 24,12 " style="margin-top:5px;"></polygon></svg>',f=(i,t,o)=>'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+i+'px" height="'+t+'px" viewBox="0 0 448 448" style="enable-background:new 0 0 448 448;margin-top:5px;" xml:space="preserve"><g><path fill="'+o+'" d="M41.373,278.627l160,160c12.496,12.497,32.758,12.497,45.255,0l160-160c12.495-12.497,12.495-32.758,0-45.255 c-12.497-12.497-32.759-12.497-45.256,0L256,338.745V32c0-17.673-14.327-32-32-32c-17.673,0-32,14.327-32,32v306.745 L86.627,233.372C80.379,227.124,72.189,224,64,224s-16.379,3.124-22.627,9.372C28.876,245.869,28.876,266.13,41.373,278.627z"/></g></svg>',h=(i,t,o)=>'<svg  version="1.0" x="0px" y="0px" width="'+i+'px" height="'+t+'px" viewBox="0 0 48 48" class="icon icons8-Expand-Arrow"><polygon fill="'+o+'" points="43,17.1 39.9,14 24,29.9 8.1,14 5,17.1 24,36 "></polygon></svg>',v=(i,t,o)=>'<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="'+i+'pt" height="'+t+'pt" viewBox="0 0 128.000000 128.000000"><g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)" fill="'+o+'" stroke="none"><path d="M262 998 c-9 -11 25 -51 168 -193 l180 -180 -181 -181 c-145 -145 -178 -183 -167 -192 11 -9 51 25 193 168 l180 180 181 -181 c145 -145 183 -178 192 -167 9 11 -25 51 -168 193 l-180 180 181 181 c145 145 178 183 167 192 -11 9 -51 -25 -193 -168 l-180 -180 -181 181 c-145 145 -183 178 -192 167z"/></g></svg>';class b{constructor(i){this.scope=i,this.nvHelper=new o(this)}initialize(i){var t,o,n=this;return(o=document.createElement("div")).setAttribute("id","nv_js-modal-overlay_"+i.notificationID),o.style.cssText='display:none;visibility: visible;z-index: 10000008;position: fixed;left: 0;top: 0;height: 100%;width: 100%;background: black;opacity: 0.75;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";filter: alpha(opacity=40);',t=document.getElementById("nv_js-box-close-button_"+i.notificationID),"11"==i.template||"38"==i.template?(t.innerHTML=v(30,30,i.ctaBgColor),t.style.cssText="margin-top:5px;cursor: pointer;position: absolute;top: 10px;right: 55px;display:none;text-align: center;width: 20px;height: 20px; border-radius: 50%;font-family: sans-serif"):(t.innerHTML=c(10,10,i.bgColor),t.style.cssText="margin-top:5px;cursor: pointer;position: absolute;top: -14px;right: -10px;display: none;text-align: center;width: 20px;height: 20px; border-radius: 50%;font-family: sans-serif;background: "+i.ctaBgColor),n.scope.bindEvent.bind(t,"click",function(){return n.close(i,1)},"banner"),0!=i.close_btn&&setTimeout(function(){n.scope.bindEvent.bind(document,"keydown",function(t){if(27===t.keyCode)return n.close(i)},"banner"),n.scope.bindEvent.bind(o,"click",function(t){return n.close(i)},"banner")},1e3*i.close_btn),document.body.appendChild(o),this}close(i,t){var o;this.nvHelper.closeButton(i,t),(o=document.getElementById("nv_js-modal-overlay_"+i.notificationID)).parentNode.removeChild(o);var n=document.getElementById("notify-visitors-box-notification_"+i.notificationID);return n&&n.parentNode.removeChild(n),"1"}}var p=i=>{if(i.template&&i.nid){var t=document.getElementById("nv_js-box-content_"+i.nid);if(t){var o=Math.min(i.height+40,window.innerHeight-20);t.style.height=o+"px",t.style.transition="all 0.3s ease-in"}}},m=(i,t)=>{0!=t&&(t=1==t?1:1e3*t,setTimeout(function(){document.getElementById(i).style.display="block"},t))},x=(i,t)=>{if(i.noOfTimesPerUser){var o=parseInt(t.cookieController.get("shw_"+i.notificationID));o=o?o+1:1,t.cookieController.set("shw_"+i.notificationID,o)}},w=(i,t,o,n)=>{try{var e,r=0,s=n.scope?n.scope:n,a="0";if(o&&(a=void 0!==(o=JSON.parse(o)).template?o.template:"0",o.repeat_notification&&1==o.repeat_notification&&document.querySelectorAll("div[id^=notify-visitors-]").forEach(function(i){if("block"==i.style.display)return r=1,!1})),1!=r){if("box"==i?document.getElementById("notify-visitors-box-notification_"+t).style.display="block":"modal"==i||"fullScreenSurvey"==i?(document.getElementById("nv_js-modal-overlay_"+t).style.display="block",document.getElementById("notify-visitors-box-notification_"+t).style.display="block"):"mobileBar"==i?document.getElementById("notify-visitors-mobile-bar-notification_"+t).style.display="block":"singleLineBar"==i?document.getElementById("notify-visitors-notification_"+t).style.display="block":"multiLineBar"==i&&(document.getElementById("notify-visitors-multi-bar-notification_"+t).style.display="block"),["60","61","62","63"].indexOf(a)>-1){e="nps";var d=s.config.urls.npsUpdateViews+s.data.auth.bid+"&notificationid="+t}else if(["0","31","32","33","34","35","36","37","38"].indexOf(a)<0){e="banner";d=s.config.urls.bannerUpdateViews+s.data.auth.bid+"&notificationid="+t}else{e="survey";d=s.config.urls.updateView+s.data.auth.bid+"&notificationid="+t}if(o.notificationID=t,((i,t)=>{if(i.repeat_view&&1==i.repeat_view){var o={domain:location.host.split(".").splice(1).join("."),cookies:{}},n=t.cookieController.get("_nv_banner_x");if(null===t.cookieController.get("_nv_banner_x_"+i.notificationID)&&(null===n||!n.split(",").includes(i.notificationID))&&i.repeat_view&&""!==i.repeat_view){if(1==i.repeat_view){var e="_nv_banner_x_"+i.notificationID,r=i.notificationID;n&&(r=n+","+r),o.cookies[e.substring(0,12)]=[r,259200]}else 0!=i.repeat_view&&(o.cookies["_nv_banner_x_"+i.notificationID]=[1,1440*i.repeat_view]);t.session(o)}}})(o,s),s.getJSONP.get(d,"",s.callbackName,function(i){i&&"object"==typeof i&&i.campaignCookie&&s.session&&s.session(i.campaignCookie)}),e){var c=o.name?o.name:"Untitled";s.gapush_banner(t,c,"nv_"+e+"_impressions",!0)}}}catch(i){console.log(i)}},_=i=>{switch(!0){case null!=document.getElementById("nv_js-box-close-button_"+i):document.getElementById("nv_js-box-close-button_"+i).click();break;case null!=document.getElementById("notify-visitors-notification-close-button_"+i):document.getElementById("notify-visitors-notification-close-button_"+i).click();break;case null!=document.getElementById("notify-visitors-multi-bar-notification-close-button_"+i):document.getElementById("notify-visitors-multi-bar-notification-close-button_"+i).click();break;case null!=document.getElementById("notify-visitors-notification-mobile-bar-close-button_"+i):document.getElementById("notify-visitors-notification-mobile-bar-close-button_"+i).click();break;case null!=document.getElementById("nv_js-modal-close-button"):document.getElementById("nv_js-modal-close-button").click()}},g=(i,t,o)=>{var n={domain:location.host.split(".").splice(1).join("."),cookies:{}},e=o.cookieController.get("_nv_banner_x");if(null===o.cookieController.get("_nv_banner_x_"+i)&&(null===e||!e.split(",").includes(i))&&t&&""!==t){if(0==t){var r="_nv_banner_x_"+i,s=i;e&&(s=e+","+s),n.cookies[r.substring(0,12)]=[s,259200]}else 501!=t&&(n.cookies["_nv_banner_x_"+i]=[1,1440*t]);o.session(n)}};class y{constructor(i){this.scope=i}initialize(i){var t=this,o=0,n=parseInt(t.scope.cookieController.get("nv_li_"+i.notificationID));return n=n?n+1:1,t.scope.bindEvent.bind(document,"mouseout",function(e){var r=(e=e||window.event).relatedTarget||e.toElement;if((!r||"HTML"==r.nodeName)&&e.pageY-window.pageYOffset<=1&&1!=o&&(!n||n<=i.noOfTimesPerUser)){o=1,t.scope.cookieController.set("nv_li_"+i.notificationID,n);var s="";["1","5","62"].indexOf(i.template)>=0?s="singleLineBar":["3","7","8","34","31","55","60","15"].indexOf(i.template)>=0?s="box":["2","10","11","32","33","36","38","52","61"].indexOf(i.template)>=0?s="modal":["4","6","35"].indexOf(i.template)>=0?s="multiLineBar":["51","53","37"].indexOf(i.template)>=0&&(s="mobileBar"),w(s,i.notificationID,JSON.stringify(i),t)}},"banner"),this}}class k{constructor(i){this.scope=i}initialize(i){var t=this;return t.scope.nvj(document).ready(function(o){t.scope.bindEvent.bind(document,"scroll",function n(e){var r=o(window).scrollTop()/(o(document).height()-o(window).height());if(Math.round(100*r)>=i.scroll){var s="";["1","5","62"].indexOf(i.template)>=0?s="singleLineBar":["3","7","8","34","31","55","60","13","15"].indexOf(i.template)>=0?s="box":["2","10","11","32","33","36","38","52","61","14"].indexOf(i.template)>=0?s="modal":["4","6","35"].indexOf(i.template)>=0?s="multiLineBar":["51","53","37"].indexOf(i.template)>=0&&(s="mobileBar"),w(s,i.notificationID,JSON.stringify(i),t),t.scope.bindEvent.unbind(document,"scroll",n)}},"banner")}),this}}class j{constructor(i){this.scope=i}singleLineBar(i,t){var o=this;null!=t&&1==t&&(i.timeDelayPage=0),setTimeout(function(){if(!document.getElementById("notify-visitors-notification_"+i.notificationID)){x(i,o.scope);var t,n=document.createElement("div");n.style.display="none",t=o.scope.browserController.getMobileStatus()&&"62"!==i.template?"":'<a style="cursor: pointer;position: absolute;display:none;top: 7px;right: 2px;text-align: center;width: 20px;height: 20px;border-radius: 50%;color: white;z-index: 10000001;" id="notify-visitors-notification-close-button_'+i.notificationID+'" onclick="notify_visitors.manual.gapush_banner(\''+i.notificationID+"','"+i.name+"','nv_"+i.templateType+"_closed','true')\" href=\"javascript:void(0);\">"+c(10,10,i.ctaBgColor)+"</a>";var e=i.html.iframe+t;if(m("notify-visitors-notification-close-button_"+i.notificationID,i.close_btn),a(i.animation_style),1==i.minimise){var r="";r=o.scope.browserController.getMobileStatus()&&"62"!==i.template?"right: 2px;":o.scope.browserController.getMobileStatus()&&"62"===i.template?"left: 2px;":"right: 24px;";var s=i.height?i.height:"35";if(0==i.pos){var u=1==i.fixTop?"fixed":"absolute";n.innerHTML='<div style="height:'+s+'px;"  id="notify-visitors-notification-bar_'+i.notificationID+'"><div style="z-index: 9999999; position:'+u+"; background-color: transparent; border: medium none; overflow: hidden;top: 0px; left: auto; height: "+s+'px; right: 0px; width: 100%; display: block;">'+e+'<a style="cursor: pointer;position: absolute;top: 7px;'+r+'display: inline-block;text-align: center;width: 20px;height: 20px;color: white;z-index: 10000001;" id="notify-visitors-notification-top-minimise-button_'+i.notificationID+'" href="javascript:void(0);">'+l(11,11,i.ctaBgColor)+'</a></div></div><a style="cursor: pointer;position:  '+u+";border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;top: 0px;right: 15px;text-align: center;width: 30px;color: white;z-index: 10000001;visibility:hidden;background-color:"+i.bgColor+"; border: 2px solid "+i.ctaBgColor+';border-top: 0px;" id="notify-visitors-notification-top-maximise-button_'+i.notificationID+'" href="javascript:void(0);">'+f(13,13,i.ctaBgColor)+"</a>"}else n.innerHTML='<div id="notify-visitors-notification-bar_'+i.notificationID+'" style="z-index: 9999999; position: fixed; background-color: transparent; border: medium none; overflow: hidden; bottom: 0px; left: auto; height: '+s+'px; right: 0px; width: 100%; display: block;">'+e+'<a style="cursor: pointer;position: absolute;top: 7px;'+r+'display: inline-block;text-align: center;width: 20px;height: 20px;color: white;z-index: 10000001;"  id="notify-visitors-notification-bottom-minimise-button_'+i.notificationID+'" href="javascript:void(0);">'+f(11,11,i.ctaBgColor)+'</a></div><a style=" cursor: pointer;position: fixed;padding-top: 8px;border-top-left-radius: 5px;border-top-right-radius: 5px;bottom: 0px;right: 15px;text-align: center;width: 30px; color: white;z-index: 10000001;visibility:hidden;background-color:'+i.bgColor+"; border: 2px solid "+i.ctaBgColor+';border-bottom: 0px;" id="notify-visitors-notification-bottom-maximise-button_'+i.notificationID+'" href="javascript:void(0);">'+l(13,13,i.ctaBgColor)+"</a>"}else{var h=0==i.pos?"top: 0px;":"bottom: 0px;";n.innerHTML='<div id="notify-visitors-notification-bar_'+i.notificationID+'" style="z-index: 9999999; position: fixed; background-color: transparent; border: medium none; overflow: hidden; visibility: visible; '+h+" left: auto; height:"+s+'px; right: 0px; width: 100%; display: block;">'+e+"</div>",0==i.pos&&(n.style.height=s+"px")}if(n.id="notify-visitors-notification_"+i.notificationID,document.body.firstChild?document.body.insertBefore(n,document.body.firstChild):document.body.appendChild(n),i.html.iframe_data){var v=document.getElementById("notify-visitors-notification-bar-iframe_"+i.notificationID).contentWindow.document;v.open(),v.write(i.html.iframe_data),v.close()}1==i.hideOnScroll&&(o.scope.nvj("#notify-visitors-notification_"+i.notificationID).addClass("_hideOnScroll"),d(o.scope)),o.scope.notifyBarController.initialize(i)}},1e3*i.timeDelayPage)}modal(i,t){var o=this;null!=t&&1==t&&(i.timeDelayPage=0),setTimeout(function(){if(!document.getElementById("nv_js-modal-content")){var t,n,e=o.scope.config.urls.modal;["32","33","36","38"].indexOf(i.template)>=0&&(e=o.scope.config.urls.modalSvy),e+=o.scope.data.auth.bid+"&notificationid="+i.notificationID+o.scope.data.tokensQuery,x(i,o.scope),m("nv_js-modal-close-button",i.close_btn),["52","33"].indexOf(i.template)>=0?(t=window.innerWidth-30,n=window.innerHeight-30):["10"].indexOf(i.template)>=0&&window.innerWidth<i.width?(ratio=i.width/i.height,n=(t=window.innerWidth-30)/ratio):["11","38"].indexOf(i.template)>=0?(t=window.innerWidth,n=window.innerHeight):["36"].indexOf(i.template)>=0?(t=window.innerWidth-30,n=i.height):(t=i.width?i.width:"400",n=i.height?i.height:"250"),o.scope.nvJSModalController.initialize(i).openViaLink({href:e,width:t+"px",height:n+"px",ctaBgColor:i.ctaBgColor,bgColor:i.bgColor,close_btn:i.close_btn,template:i.template,iframe:i.html})}},1e3*i.timeDelayPage)}box(i,t){var o=this;null!=t&&1==t&&(i.timeDelayPage=0),setTimeout(function(){if(!document.getElementById("notify-visitors-box-notification_"+i.notificationID)){o.scope.config.urls.box;["32","33","36","38"].indexOf(i.template)>=0?o.scope.config.urls.modalSvy:["31"].indexOf(i.template)>=0?o.scope.config.urls.boxSvy:["2","52","10","11","14"].indexOf(i.template)>=0&&o.scope.config.urls.modal,o.scope.data.auth.bid+"&notificationid="+i.notificationID+o.scope.data.tokensQuery;var t=document.createElement("div");t.style.display="none",x(i,o.scope);var n=i.ctaBgColor.replace(/[\d\.]+\)$/g,"1)"),e=i.bgColor.replace(/[\d\.]+\)$/g,"1)"),r='<a href="javascript:void(0);" onclick="notify_visitors.manual.gapush_banner(\''+i.notificationID+"','"+i.name+"','nv_"+i.templateType+"_closed','true')\" id=\"nv_js-box-close-button_"+i.notificationID+'" style="background: '+n+';cursor: pointer;position: absolute;top: -10px;right: -10px;display:none;text-align: center;width: 20px;height: 20px; border-radius: 50%;font-family: sans-serif;">'+c(10,10,e)+"</a>",s=i.html.iframe;m("nv_js-box-close-button_"+i.notificationID,i.close_btn),a(i.animation_style);var l=i.width?i.width:"400",u=i.height?i.height:"250";if(["52","33"].indexOf(i.template)>=0)l=window.innerWidth-30,u=window.innerHeight-30;else if(["10"].indexOf(i.template)>=0&&window.innerWidth<i.width){var f=i.width/i.height;u=(l=window.innerWidth-30)/f}else["11","38"].indexOf(i.template)>=0?(l=window.innerWidth,u=window.innerHeight):["36"].indexOf(i.template)>=0?(l=window.innerWidth-30,u=i.height):["61"].indexOf(i.template)>=0&&1===o.scope.browserController.getMobileStatus()&&(l=window.innerWidth-30,u=i.height);var h="";if(["3","7","31","60","13"].indexOf(i.template)>=0){var v=i.offset?JSON.parse(i.offset):{leftOffset:"",topOffset:""};h="right:"+(v.leftOffset||20)+"px; bottom:"+(v.topOffset||10)+"px;",1==i.pos?h="left:"+(v.leftOffset||10)+"px; bottom:"+(v.topOffset||10)+"px;":2==i.pos?h="right:"+(v.leftOffset||20)+"px; top:"+(v.topOffset||20)+"px;":3==i.pos&&(h="left:"+(v.leftOffset||10)+"px; top:"+(v.topOffset||20)+"px;")}else["2","10","32","33","36","61","14"].indexOf(i.template)>=0&&(h="left:50%;top:50%;display: flex;display: -webkit-box;display: -moz-box;display: -ms-flexbox;display: -webkit-flex;transform: translate(-50%, -50%);-webkit-transform: translate(-50%, -50%); -moz-transform: translate(-50%, -50%);-ms-transform: translate(-50%, -50%);-o-transform:translate(-50%, -50%);-webkit-background-clip: padding-box;background-clip: padding-box;");var b=55!=i.template&&15!=i.template?"fixed;":"initial;";if(t.innerHTML='<div id="nv_js-box_'+i.notificationID+'" style="'+h+"position:"+b+' visibility: visible;z-index: 10000010;border-radius: 5px;"><div id="nv_js-box-content_'+i.notificationID+'" class="nv-animated '+i.animation+'" style="height: '+u+"px; width: "+l+'px;border-radius: 5px;">'+s+r+"</div></div>",t.id="notify-visitors-box-notification_"+i.notificationID,55!=i.template&&15!=i.template||null==i.embbed_id||""===i.embbed_id)document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t);else{var p=document.getElementById(i.embbed_id);if(!p)return!1;p.appendChild(t)}if(i.html.iframe_data){var w=document.getElementById("nv_box_content-iframe_"+i.notificationID).contentWindow.document;w.open(),w.write(i.html.iframe_data),w.close()}["2","52","32","33","10","11","36","38","61","14"].indexOf(i.template)>=0&&o.scope.nvJSModalController.initialize(i),1==i.hideOnScroll&&(o.scope.nvj("#notify-visitors-box-notification_"+i.notificationID).addClass("_hideOnScroll"),d(o.scope)),o.scope.nvJSBoxController.initialize(i)}},1e3*i.timeDelayPage)}classic(i,t){var o=this;null!=t&&1==t&&(i.timeDelayPage=0),setTimeout(function(){if(!document.getElementById("notify-visitors-box-notification_"+i.notificationID)){o.scope.config.urls.box;34==i.template&&o.scope.config.urls.boxSvy,o.scope.data.auth.bid+"&notificationid="+i.notificationID+o.scope.data.tokensQuery,x(i,o.scope);var t=document.createElement("div");t.style.display="none";var n='<a href="javascript:void(0);" onclick="notify_visitors.manual.gapush_banner(\''+i.notificationID+"','"+i.name+"','nv_"+i.templateType+"_closed','true')\" id=\"nv_js-box-close-button_"+i.notificationID+'" style=" cursor: pointer;position: absolute;display: inline-block;text-align: center;width: 20px;height: 20px;color: white;font-family: sans-serif;right: 6px; top: -20px; border-radius:0px; background: '+i.bgColor+';">'+c(10,10,i.fontColor)+"</a>",e='<a id="nv_js-box-minimise-button_'+i.notificationID+'" href="javascript:void(0);" style="position:absolute; display:inline-block;right: 36px; top: -20px;height:20px; background: '+i.bgColor+';">'+h(18,18,i.fontColor)+"</a>",r='<div style="right: 0px;top: -23px; background: '+i.bgColor+";width: 67px;height: 23px;border: 1px solid "+i.ctaBgColor+';border-right-bottom-radius: 24px;position: absolute;border-radius: 12px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px; border-bottom:0px;"></div>',s=i.html.iframe+n;a(i.animation_style);var l=1==i.pos?"left:10px;":"right:10px;";if(1==i.minimise?t.innerHTML='<div id="nv_js-box_'+i.notificationID+'" class="nv-animated '+i.animation+'" style="'+l+'bottom:0px; visibility: visible;position: fixed;z-index: 10000010;background: transparent;border-radius: 5px;"><div id="nv_js-box-content_'+i.notificationID+'" style="height: '+i.height+"px; width: "+i.width+'px;border-radius: 5px;background: transparent;">'+r+s+e+'</div></div><a style="visibility:hidden; position:fixed; '+l+" padding:10px; border-top-right-radius: 5px;border-top-left-radius: 5px;z-index: 1000001000; background-color:"+i.bgColor+"; border: 2px solid "+i.ctaBgColor+';border-bottom: 0px; bottom:0px;" id="nv_js-box-maximise-button_'+i.notificationID+'" href="javascript:void(0);">'+u(18,18,i.fontColor)+"</a>":t.innerHTML='<div id="nv_js-box_'+i.notificationID+'" class="nv-animated '+i.animation+'" style="'+l+'bottom:0px; visibility: visible;position: fixed;z-index: 10000010;background: transparent;border-radius: 5px;"><div id="nv_js-box-content_'+i.notificationID+'" style="height: '+i.height+"px; width: "+i.width+'px;border-radius: 5px;background: transparent;">'+r+s+"</div></div>",t.id="notify-visitors-box-notification_"+i.notificationID,document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t),i.html.iframe_data){var f=document.getElementById("nv_box_content-iframe_"+i.notificationID).contentWindow.document;f.open(),f.write(i.html.iframe_data),f.close()}1==i.hideOnScroll&&(o.scope.nvj("#notify-visitors-box-notification_"+i.notificationID).addClass("_hideOnScroll"),d(o.scope)),o.scope.nvJSBoxController.initialize(i)}},1e3*i.timeDelayPage)}multiLineBar(i,t){var o=this;null!=t&&1==t&&(i.timeDelayPage=0),setTimeout(function(){document.createElement("div");if(!document.getElementById("notify-visitors-multi-bar-notification_"+i.notificationID)){35==i.template?(o.scope.config.urls.stickyBarSvy,i.brandID,i.notificationID):(o.scope.config.urls.multiLineBar,i.brandID,i.notificationID);x(i,o.scope);var t=document.createElement("div");t.style.display="none";var n=35==i.template?"30":(i.height-20)/2,e=35==i.template?"80":i.height,r=i.html.iframe+'<a style="cursor: pointer;position: absolute;display:none;top: '+n+'px;right: 8px;text-align: center;width: 20px;height: 20px; border-radius: 3px;color: white;z-index: 10000001;" id="notify-visitors-multi-bar-notification-close-button_'+i.notificationID+'" onclick="notify_visitors.manual.gapush_banner(\''+i.notificationID+"','"+i.name+"','nv_"+i.templateType+"_closed','true')\" href=\"javascript:void(0);\">"+c(15,15,i.ctaBgColor)+"</a>";m("notify-visitors-multi-bar-notification-close-button_"+i.notificationID,i.close_btn),a(i.animation_style);var s=0==i.pos?"border-bottom : 1px solid "+i.ctaBgColor+";":"border-top : 1px solid "+i.ctaBgColor+";";if(1==i.minimise)if(0==i.pos){var u=1==i.fixTop?"fixed":"absolute";t.innerHTML='<div style="height:'+e+'px"  id="notify-visitors-multi-bar_'+i.notificationID+'"><div style="z-index: 9999999; position: '+u+"; background-color: transparent; border: medium none; overflow: hidden; top:0px; left: auto; height: "+e+"px; right: 0px;"+s+' width: 100%; display: block;">'+r+'<a style="cursor: pointer;position: absolute;top: '+n+'px;right: 40px;display: inline-block;text-align: center;width: 20px;height: 20px; border-radius: 3px;color: white;z-index: 10000001;" id="notify-visitors-multi-bar-top-minimise-button_'+i.notificationID+'" href="javascript:void(0);">'+l(17,17,i.ctaBgColor)+'</a></div></div><a style="cursor: pointer;position: '+u+";padding-top: 8px;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;top: 0px;right: 15px;display: inline-block;text-align: center;width: 35px;height: 35px; color: white;z-index: 10000001;visibility:hidden;background-color:"+i.bgColor+"; border: 3px solid "+i.ctaBgColor+';border-top: 0px;" id="notify-visitors-multi-bar-top-maximise-button_'+i.notificationID+'" href="javascript:void(0);">'+f(16,16,i.ctaBgColor)+"</a>"}else t.innerHTML='<div  id="notify-visitors-multi-bar_'+i.notificationID+'"><div id="notify-visitors-multi-bar_'+i.notificationID+'" style="z-index: 9999999; position: fixed; background-color: transparent; border: medium none; overflow: hidden; bottom: 0px; left: auto; height: '+e+"px;right: 0px; width: 100%;"+s+' display: block;">'+r+'<a style="cursor:pointer;position: absolute;top: '+n+'px;right: 40px;text-align: center;width: 20px;height: 20px;border-radius: 3px;color: white;z-index: 10000001;" id="notify-visitors-multi-bar-bottom-minimise-button_'+i.notificationID+'" href="javascript:void(0);">'+f(17,17,i.ctaBgColor)+'</a></div></div><a style="visibility:hidden;cursor: pointer;position: fixed;padding-top: 8px;border-top-left-radius: 5px;border-top-right-radius: 5px;bottom: 0px;right: 15px;text-align: center;width: 35px;height: 35px; color: white;z-index: 10000001;background-color:'+i.bgColor+"; border: 3px solid "+i.ctaBgColor+';border-bottom: 0px;" id="notify-visitors-multi-bar-bottom-maximise-button_'+i.notificationID+'" href="javascript:void(0);">'+l(16,16,i.ctaBgColor)+"</a>";else{var h=0==i.pos?"top: 0px;":"bottom: 0px;";t.innerHTML='<div id="notify-visitors-multi-bar_'+i.notificationID+'" style="z-index: 9999999; position: fixed; background-color: transparent; border: medium none; overflow: hidden; visibility: visible; '+h+" left: auto; height: "+e+'px; right: 0px; width: 100%; display: block;">'+r+"</div>",0==i.pos&&(t.style.height=e+"px")}if(t.id="notify-visitors-multi-bar-notification_"+i.notificationID,document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t),i.html.iframe_data){var v=document.getElementById("notify-visitors-multi-bar-iframe_"+i.notificationID).contentWindow.document;v.open(),v.write(i.html.iframe_data),v.close()}1==i.hideOnScroll&&(o.scope.nvj("#notify-visitors-multi-bar-notification_"+i.notificationID).addClass("_hideOnScroll"),d(o.scope)),o.scope.notifyMultiBarController.initialize(i)}},1e3*i.timeDelayPage)}leaveIntent(i){this.scope.nvLeaveIntentController.initialize(i)}scrollEvent(i){this.scope.nvScrollController.initialize(i)}mobileBar(i){var t=this;setTimeout(function(){if(!document.getElementById("notify-visitors-mobile-bar-notification_"+i.notificationID)){37==i.template?(t.scope.config.urls.stickyBarSvy,i.brandID,i.notificationID,t.scope.data.tokensQuery):(t.scope.config.urls.mobileBar,i.brandID,i.notificationID,t.scope.data.tokensQuery);x(i,t.scope);var o=document.createElement("div");o.style.display="none";var n='<a style="cursor: pointer;position: absolute;top: 30%;right: 2px;display:none;text-align: center;width: 20px;height: 20px; border-radius: 50%;color: white;z-index: 10000001;" id="notify-visitors-notification-mobile-bar-close-button_'+i.notificationID+'" onclick="notify_visitors.manual.gapush_banner(\''+i.notificationID+"','"+i.name+"','nv_"+i.templateType+"_closed','true')\" href=\"javascript:void(0);\">"+c(8,8,i.ctaBgColor)+"</a>";m("notify-visitors-notification-mobile-bar-close-button_"+i.notificationID,i.close_btn);var e,r=i.html.iframe;if(["53"].indexOf(i.template)>=0)e=window.innerWidth/(i.width/i.height);else 37==i.template||51==i.template?(window.innerWidth,e=i.height?i.height:"50"):(window.innerWidth,e="50");a(i.animation_style);var s="fixed",l="bottom: 0px;";if(0==i.pos&&(l="top: 0px;",s=1==i.fixTop?"fixed":"absolute"),o.innerHTML='<div  id="notify-visitors-notification-mobile-bar_'+i.notificationID+'" class="nv-animated '+i.animation+'" style="z-index: 9999999; position: '+s+"; background-color: transparent; border: medium none; overflow: hidden; visibility: visible; "+l+" left: auto; height: "+e+'px; right: 0px; width:100%; display: block;">'+r+n+"</div>",0==i.pos&&(o.style.height=e+"px"),o.id="notify-visitors-mobile-bar-notification_"+i.notificationID,document.body.firstChild?document.body.insertBefore(o,document.body.firstChild):document.body.appendChild(o),i.html.iframe_data){var u=document.getElementById("notify-visitors-notification-mobile-bar-iframe_"+i.notificationID).contentWindow.document;u.open(),u.write(i.html.iframe_data),u.close()}1==i.hideOnScroll&&(t.scope.nvj("#notify-visitors-mobile-bar-notification_"+i.notificationID).addClass("_hideOnScroll"),d(t.scope)),t.scope.notifyMobileBarController.initialize(i)}},1e3*i.timeDelayPage)}floatingHtml(i){var t=this;setTimeout(function(){var o=document.createElement("div");document.getElementById("notify-visitors-floating-html-notification_"+i.notificationID)||(x(i,t.scope),o.innerHTML=i.html.html,o.id="notify-visitors-floating-html-notification_"+i.notificationID,document.body.firstChild?document.body.insertBefore(o,document.body.firstChild):document.body.appendChild(o))},1e3*i.timeDelayPage)}}var S={loadSingle:(i,t,o)=>{i||t(!1);var n=document.createElement("script");n.type="text/javascript",n.src=i,n.addEventListener("load",()=>{t(!0,o)},!1),n.addEventListener("error",()=>{t(!1,o)},!1),document.body.appendChild(n)}};var z=()=>{var i,t,o=window.document,n=0;return{get:function(e,r,s,a){var d=-1!==e.indexOf("?")?"&":"?";r=r||{};var c=L();for(t in c&&Array.isArray(c)&&c.length>0&&(r.cookieData=c.join(";")),notify_visitors&&notify_visitors.cookie_domain&&(r.cookieDomain=notify_visitors.cookie_domain),r)r.hasOwnProperty(t)&&(d+=encodeURIComponent(t)+"="+encodeURIComponent(r[t])+"&");var l=s+ ++n;return window[l]=function(i){a(i);try{delete window[l]}catch(i){}window[l]=null},function(t){var n=o.createElement("script"),e=!1;n.src=t,n.async=!0,n.onload=n.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},!i&&(i=o.getElementsByTagName("head")[0]),i.appendChild(n)}(e+d+"js_callback="+l),l},post:function(i,t,o,n,e){e.ajax({url:i,type:"POST",data:t,contentType:!1,processData:!1,success:n})}}},B=()=>{return{bind:function(i,t,o,n){return n&&""!=n&&(window.notify_visitors.eventsRecord=window.notify_visitors.eventsRecord||{},window.notify_visitors.eventsRecord[n]=window.notify_visitors.eventsRecord[n]||[],window.notify_visitors.eventsRecord[n].push({n:t,e:i,c:o})),i.addEventListener?i.addEventListener(t,o):i.attachEvent?i.attachEvent("on"+t,o):void 0},unbind:function(i,t,o){return i.removeEventListener?i.removeEventListener(t,o):i.detachEvent?i.detachEvent("on"+t,o):void 0}}},O=()=>{return function(){if("function"==typeof window.CustomEvent)return!1;function i(i,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var o=document.createEvent("CustomEvent");return o.initCustomEvent(i,t.bubbles,t.cancelable,t.detail),o}i.prototype=window.Event.prototype,window.CustomEvent=i}(),{send:function(i,t){var o=new CustomEvent("notifyvisitors_callback",{detail:{data:i,url:document.location.href,type:t}});window.dispatchEvent(o)}}},C=()=>{var i,t=!0,o={},n=!1;function e(i){n=!0,clearInterval(i),t&&setTimeout(function(){r("selfCall")},10)}function r(i,n,e,s,a){i&&(void 0===a&&(a=!0),t&&("function"==typeof ga?"selfCall"===i?Object.keys(o).forEach(function(i){if(i&&o[i]&&o[i].length>0){for(var t=0;t<o[i].length;t++)ga(i+".send","event",o[i][t][1],o[i][t][2],o[i][t][3],1,{nonInteraction:o[i][t][4]});o[i]=[]}}):ga(i+".send","event",n,e,s,1,{nonInteraction:a}):"selfCall"!==i?(o[i]||(o[i]=[]),o[i].push([i,n,e,s,a])):setTimeout(function(){r("selfCall")},100)))}return{send:r,create:function r(s,a){if(s)if("undefined"!=typeof ga&&ga.loaded&&"function"==typeof ga)try{if(a)ga("create",a,"auto",{name:s});else if(ga.getAll&&Array.isArray(ga.getAll())&&ga.getAll().length>0){var d=ga.getAll()[0].get("trackingId"),c=ga.getByName(s);d&&!c&&(ga("create",d,"auto",{name:s}),e(i))}}catch(i){}else n||i||(i=setInterval(function(){r(s)},250),setTimeout(function(){i&&(t=!1,o={},e(i))},6e4))}}},L=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];if(document&&document.cookie){var o=document.cookie.split(";");"all"===i&&(t=o),Array.isArray(i)&&o&&o.length>0&&(t=o.filter(function(t){var o=t.trim().split("=")[0];return!!i.includes(o)||0===o.indexOf("_nv_")}))}return t},I="https://www.notifyvisitors.com/",T={getNotification:I+"ext/v1/getNotification",singleLineBar:I+"user/notifications/singleLineBar?brandid=",multiLineBar:I+"user/notifications/multiLineBar?brandid=",mobileBar:I+"user/notifications/mobileBar?brandid=",modal:I+"user/notifications/modal?brandid=",box:I+"user/notifications/box?brandid=",npsUpdateViews:I+"user/nps/updateViews?brandid=",bannerUpdateViews:I+"user/notifications_v2/updateViews?brandid=",modalSvy:I+"user/survey/modal?brandid=",updateView:I+"user/survey_v2/updateViews?brandid=",boxSvy:I+"user/survey/box?brandid=",stickyBarSvy:I+"user/survey/stickyBar?brandid=",container:I+"user/container/show?brandid="},E=new Date;class N{constructor(o){this.response={},this.session=o.data&&o.data.session||"",this.config=this.config||{},this.data=this.data||{},this.getJSONP=z(),this.bindEvent=B(),this.gaEvent=C(),this.callbackNotifyEvent=O(),this.callbackName="nvbanner_json",this.cookieController=new t,this.browserController=new i,this.notifyBarController=new n(this),this.notifyMultiBarController=new e(this),this.notifyMobileBarController=new r(this),this.nvJSBoxController=new s(this),this.nvJSModalController=new b(this),this.nvLeaveIntentController=new y(this),this.nvScrollController=new k(this),this.widgetController=new j(this),this.init=this.init.bind(this),this.bannerClickedResponse=this.bannerClickedResponse.bind(this),this.checkAuth(o.Banner.data);var a=o.Banner.data.gaEvents||null;this.trackingID=a&&a.trackingID?a.trackingID:"",this.gaEvent.create("NV_Banner",this.trackingID)}checkAuth(i){this.response=i,null!=i.auth&&this.handleWindowLoad()}handleWindowLoad(){"complete"==document.readyState?this.init():this.bindEvent.bind(window,"load",this.init,"banner")}init(){if(nvpack.config=nvpack.config||{},nvpack.config.b)return!1;nvpack.config.b=!0,this.config.urls=T,this.data.auth=this.response.auth||{},this.data.setting=this.response.auth||{},window.notify_visitors.data.ruleData&&(this.data.setting.ruleData=this.data.ruleData=JSON.parse(window.notify_visitors.data.ruleData)),window.notify_visitors.data.tokens&&(this.data.setting.tokens=this.data.tokens=JSON.parse(window.notify_visitors.data.tokens)),this.data.setting.trafficSource=this.data.auth.trafficSource=document.referrer,this.data.setting.pageUrl=this.data.auth.pageUrl=document.location,this.data.setting.gmOffset=this.data.auth.gmOffset=60*E.getTimezoneOffset()*-1,this.data.setting.screenWidth=this.data.auth.screenWidth=screen.width,this.data.setting.screenHeight=this.data.auth.screenHeight=screen.height,window.notify_visitors.manual=window.notify_visitors.manual||{},window.notify_visitors.manual.gapush_banner=this.gapush_banner.bind(this),window.notify_visitors.manual.visibility=this.visibility,window.notify_visitors.manual.onclick=this.onclick.bind(this),this.messageListener(),this.callbackNotifyEvent.send("banner_init","loadscript"),this.jh()}jh(){void 0===window.jQuery?S.loadSingle("https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js",this.scriptLoadCallback,this):(this.nvj=window.jQuery,this.load())}scriptLoadCallback(i,t){i&&(t.nvj=window.jQuery,t.load())}load(){if("fail"==this.response.Authentication)return!1;this.browserController.getBrowser(),!1===(window!==window.parent)&&(""!=this.response.cookie_domain&&(this.data.cookie_domain=this.response.cookie_domain),this.response.notifications&&this.response.notifications.length>0&&this.handleBannerResponse(),this.response.containerInfo&&this.handleContainerResponse())}handleBannerResponse(){var i=this;this.data.tokensQuery=this.data.tokens?"&tokens="+encodeURIComponent(this.data.tokens):"",void 0!==this.response.brand_custom_rule_data&&this.data.ruleData&&(this.data.ruleData=this.response.brand_custom_rule_data);var t=0,o=this.response.notifications;if(o&&o.length>0)for(var n=0;n<o.length;n++)if(navigator.cookieEnabled||2!=o[n].template||!(o[n].noOfTimesPerUser<5)){var e=i.cookieController.get("_nv_banner_x_"+o[n].notificationID);if(!e||1!=e){var r=o[n].dynamicTokens;if(1==o[n].hideTokens&&r){var s=1,d=i.data.tokens?i.data.tokens:{};for(var c in r)if(!r[c]&&!d[c]){s=0;break}if(!s)continue}var l=1,u=o[n].cookie;if(u.length>0){l=0;for(var f=0;f<u.length;f++){l=0;var h=i.cookieController.get(u[f].n),v=u[f].v.length;if((4==u[f].c&&h||5==u[f].c&&!h||0==u[f].c&&h==u[f].v||1==u[f].c&&h.substring(0,v)==u[f].v||2==u[f].c&&-1!==h.indexOf(u[f].v,h.length-u[f].v.length)||3==u[f].c&&h.indexOf(u[f].v)>-1)&&(l=1),1==o[n].cookieGC&&!l||0==o[n].cookieGC&&l)break}}if(l){var b=1,p=o[n].customRule;if(p.length>0){b=0;for(var m=function(){b=0;var t="";if(i.data.ruleData&&null!=i.data.ruleData[p[x].e])t=i.data.ruleData[p[x].e];else if(p[x].h){var e=document.evaluate(""+p[x].h,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;null!=e&&(t=e.innerHTML)}if(null!=t)if(0==p[x].d){if(0==p[x].c&&t==p[x].v)b=1;else if(1==p[x].c&&t!=p[x].v)b=1;else if(4==p[x].c&&t.indexOf(p[x].v)>-1)b=1;else if(5==p[x].c&&-1==t.indexOf(p[x].v))b=1;else if(6==p[x].c){!!p[x].v&&p[x].v.split(",").some(function(i){return i==t})&&(b=1)}else if(7==p[x].c){!!p[x].v&&p[x].v.split(",").some(function(i){return i==t})||(b=1)}}else 1==p[x].d?0==p[x].c&&Number(t)==p[x].v?b=1:1==p[x].c&&Number(t)!=p[x].v?b=1:2==p[x].c&&Number(t)>p[x].v?b=1:3==p[x].c&&Number(t)<p[x].v&&(b=1):2==p[x].d?(w=new Date(t).getTime(),_=new Date(p[x].v).getTime(),0==p[x].c&&w==_?b=1:1==p[x].c&&w!=_?b=1:2==p[x].c&&w>_?b=1:3==p[x].c&&w<_&&(b=1)):3==p[x].d&&(0==p[x].c&&t===p[x].v?b=1:1==p[x].c&&t!==p[x].v&&(b=1));if(1==o[n].customRuleGC&&!b||0==o[n].customRuleGC&&b)return"break"},x=0;x<p.length;x++){var w,_;if("break"===m())break}}if(b){var g=parseInt(i.cookieController.get("shw_"+o[n].notificationID));g&&o[n].noOfTimesPerUser&&g>=o[n].noOfTimesPerUser||0!=t&&o[n].sequence!=t||(t=o[n].sequence,1==o[n].leaveIntent&&i.widgetController.leaveIntent(o[n]),null!=o[n].scroll&&o[n].scroll>0&&i.widgetController.scrollEvent(o[n]),a(".nv-animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.nv-animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.nv-animated.hinge{-webkit-animation-duration:2s;animation-duration:2s}.nv-animated.bounceIn,.nv-animated.bounceOut,.nv-animated.flipOutX,.nv-animated.flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s}"),["1","5","62"].indexOf(o[n].template)>=0?i.widgetController.singleLineBar(o[n]):["2","52","32","33","10","11","36","38","3","7","31","55","60","61","13","14","15"].indexOf(o[n].template)>=0?i.widgetController.box(o[n]):["4","6","35"].indexOf(o[n].template)>=0?i.widgetController.multiLineBar(o[n]):["51","53","37"].indexOf(o[n].template)>=0?i.widgetController.mobileBar(o[n]):["34","8"].indexOf(o[n].template)>=0?i.widgetController.classic(o[n]):["9","12","54"].indexOf(o[n].template)>=0&&i.widgetController.floatingHtml(o[n]))}}}}}handleContainerResponse(){for(var i=this.response.containerInfo,t=0;t<i.length;t++)if(i[t].div){var o=document.getElementById(i[t].div);if(o){var n=this.config.urls.container+i[t].brandID+"&containerid="+i[t].containerID+"&gmtOffset="+this.data.setting.gmOffset+"&trafficSource="+this.data.setting.trafficSource+"&referrer="+this.data.setting.pageUrl+"&tokens="+encodeURIComponent(this.data.tokens);iframe=document.createElement("iframe"),iframe.frameBorder=0,iframe.style.backgroundColor="transparent",iframe.width=i[t].width,iframe.height=i[t].height,iframe.id="nv_container_iframe-"+i[t].containerID,iframe.setAttribute("src",n),o.innerHTML="",o.appendChild(iframe)}}}messageListener(){var i=this;i.bindEvent.bind(window,"message",function(t){try{var o=JSON.parse(t.data);if(o&&"object"==typeof o&&null!=o[0])switch(o[0]){case"NotifyVisitors":var n=!!o[4]&&o[4];i.gapush_banner(o[2],o[1],o[3],n);break;case"nv_iphone":i.iphoneRedirect(o[1],o[2]);break;case"autoclose":_(o[1]);break;case"nv_changeHeight":p(o[1]);break;case"nv_iframeDisplay":w(o[1],o[2],o[3],i);break;case"nv_close":g(o[1],o[2],i)}else o&&"bannerClicked"==o.message&&"object"==typeof o.nvData&&i.getJSONP.get(o.nvData.url,o.nvData.data,i.callbackName,i.bannerClickedResponse)}catch(i){}},"banner")}bannerClickedResponse(i){if(i&&"object"==typeof i){i.campaignCookie&&this.session&&this.session(i.campaignCookie);var t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if("carousel"==i.type&&i.callToActionUrl&&0==i.callToActionTarget){var o=document.activeElement.id,n=document.getElementById(o).contentWindow.document.getElementById("click-to-call");n.setAttribute("href","tel:"+i.callToActionUrl),n.click()}else if("carousel"==i.type&&2==i.callToActionTarget){var e={notification:i.notificationID};notify_visitors.manual.onclick(e)}else i.callToActionUrl&&t?this.iphoneRedirect(i.callToActionUrl,i.callToActionTarget):i.callToActionUrl&&0==i.callToActionTarget?window.top.location.href=i.callToActionUrl:i.callToActionUrl&&1==i.callToActionTarget&&window.open(i.callToActionUrl,"_blank");0==i.closeBtn&&_(i.notificationID)}}gapush_banner(i,t,o,n){this.response&&this.response.gaEvents&&Array.isArray(this.response.gaEvents.events)&&this.response.gaEvents.events.includes(o)&&this.gaEvent.send("NV_Banner","NotifyVisitors",o,i+" - "+t,n)}onclick(i){null!=i.notification&&(this.data.setting.notificationID=i.notification,this.data.setting.tokens=window.notify_visitors.data.tokens?window.notify_visitors.data.tokens:"",this.getJSONP.get(this.config.urls.getNotification,this.data.setting,this.callbackName,this.onclickResponse.bind(this)))}onclickResponse(i){if(null!=i&&null!=i.notificationInfo){var t=i.notificationInfo;["1","5","62"].indexOf(t.template)>=0?this.widgetController.singleLineBar(t):["2","52","32","33","10","11","36","38","3","7","31","60","61","13","14"].indexOf(t.template)>=0?this.widgetController.box(t):["4","6","35"].indexOf(t.template)>=0?this.widgetController.multiLineBar(t):["51","53","37"].indexOf(t.template)>=0?this.widgetController.mobileBar(t):["34","8"].indexOf(t.template)>=0?this.widgetController.classic(t):["9","12","54"].indexOf(t.template)>=0&&this.widgetController.floatingHtml(t)}}iphoneRedirect(i){i&&(window.location.href=i)}visibility(i,t,o,n){var e=document.getElementById(i);null!=e&&("hidden"===e.style.visibility?("6"==t||"35"==t?0==o&&(document.getElementById(i).style.height="80px"):"5"==t?document.getElementById(i).style.height=n?n+"px":"35px":"51"==t?document.getElementById(i).style.height=n?n+"px":"50px":"8"==t&&(document.getElementById(i).style.display="block"),document.getElementById(i).style.visibility="visible",document.getElementById(i).style.transition="bottom 1s ease"):("6"!=t&&"5"!=t&&"35"!=t&&"51"!=t||(document.getElementById(i).style.height="0px"),"8"==t&&(document.getElementById(i).style.display="none"),document.getElementById(i).style.visibility="hidden",document.getElementById(i).style.transition="bottom 1s ease"))}}return new N(window.notify_visitors),N});
